"use strict";(self.webpackChunkbookstore=self.webpackChunkbookstore||[]).push([[37,356],{3356:function(e,n,t){t.r(n);var r=t(9439),a=t(2791),i=t(184),o={fontWeight:"bold",fontSize:"1.25rem",marginTop:"1rem"};n.default=function(e){var n=e.errorCode,t=(0,a.useState)(),s=(0,r.Z)(t,2),c=s[0],l=s[1];return(0,a.useEffect)((function(){switch(n){case 403:l((0,i.jsx)(i.Fragment,{children:(0,i.jsx)("p",{style:o,children:"Voc\xea n\xe3o tem permiss\xe3o para acessar este recurso."})}));break;case 404:l((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{style:o,children:"Ops! A p\xe1gina n\xe3o foi encontrada."}),(0,i.jsx)("p",{style:o,children:"Se o erro persistir, nos informe por favor: polettobookstore@gmail.com"}),(0,i.jsx)("p",{style:o,children:"Erro 404: O conte\xfado n\xe3o est\xe1 mais dispon\xedvel ou voc\xea digitou o endere\xe7o errado."})]}))}}),[n]),(0,i.jsx)("div",{className:"d-flex justify-content-center align-items-center mt-4",children:(0,i.jsxs)("div",{className:"text-center mt-4",children:[(0,i.jsx)("h2",{className:"text-danger fw-bold fs-1 mt-4",children:n}),c]})})}},2512:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(6048),a=t.n(r),i=t(1559),o=t(184),s=function(e){var n=e.forcePage,t=e.pageCount,r=e.range,s=e.onChange;return(0,o.jsx)(a(),{forcePage:n,pageCount:t,pageRangeDisplayed:r,marginPagesDisplayed:1,containerClassName:"pagination-container",pageLinkClassName:"pagination-item",breakClassName:"pagination-item",previousLabel:(0,o.jsx)("div",{className:"pagination-arrow-container",children:(0,o.jsx)(i.r,{})}),previousClassName:"arrow-previous",nextClassName:"arrow-next",nextLabel:(0,o.jsx)("div",{className:"pagination-arrow-container",children:(0,o.jsx)(i.r,{})}),activeLinkClassName:"pagination-link-active",disabledClassName:"arrow-inactive",onPageChange:function(e){return s?s(e.selected):{}}})}},2433:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(1087),a=t(184),i=function(e){var n=e.name;return(0,a.jsx)("div",{className:"category-badge-container",children:n})},o=function(e){var n=e.book,t=e.showEdit;return(0,a.jsxs)("div",{className:"base-card product-crud-card",children:[(0,a.jsx)("div",{className:"product-crud-card-top-container",children:(0,a.jsx)("img",{src:null===n||void 0===n?void 0:n.imgUrl,alt:null===n||void 0===n?void 0:n.name,loading:"lazy"})}),(0,a.jsxs)("div",{className:"product-crud-card-description",children:[(0,a.jsxs)("div",{className:"product-crud-card-bottom-container",children:[(0,a.jsx)("h6",{children:n.name}),(0,a.jsx)("span",{children:"BOOKED"===n.status?"RESERVADO":"DISPON\xcdVEL"})]}),(0,a.jsx)("div",{className:"product-crud-categories-container",children:n.categories.map((function(e){return(0,a.jsx)(i,{name:e.name},e.id)}))})]}),t&&(0,a.jsx)("div",{className:"product-crud-card-buttons-container",children:(0,a.jsx)(r.rU,{to:"/admin/books/".concat(n.id),children:(0,a.jsx)("button",{className:"btn btn-outline-primary product-crud-card-button",children:"EDITAR"})})})]})}},7672:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(1413),a=t(9439),i=t(2791),o=t(1134),s=t(8622),c=t(5069),l=t(2406),d=t(184),u=function(e){var n=e.onSubmitFilter,t=(0,i.useState)([]),u=(0,a.Z)(t,2),m=u[0],f=u[1],h=(0,o.cI)(),p=h.register,x=h.handleSubmit,v=h.setValue,j=h.getValues,g=h.control,b=function(e){n(e)};return(0,i.useEffect)((function(){(0,c.QK)({url:"/api/categories/v2"}).then((function(e){f(e.data)}))}),[]),(0,d.jsx)("div",{className:"base-card product-filter-container",children:(0,d.jsxs)("form",{onSubmit:x(b),onChange:x(b),className:"product-filter-form",children:[(0,d.jsx)("div",{className:"product-filter-name-container",children:(0,d.jsx)("input",(0,r.Z)((0,r.Z)({},p("name")),{},{type:"text",className:"form-control base-input",placeholder:"Nome do livro ou autor",name:"name","aria-label":"book-input-search",autoComplete:"off"}))}),(0,d.jsxs)("div",{className:"product-filter-bottom-container",children:[(0,d.jsx)("div",{className:"product-filter-category-container",children:(0,d.jsx)(o.Qr,{name:"category",control:g,render:function(e){var t=e.field;return(0,d.jsx)(s.ZP,(0,r.Z)((0,r.Z)({},t),{},{options:m,isClearable:!0,placeholder:"Categoria",className:"product-filter-select",classNamePrefix:"product-filter-select",onChange:function(e){return function(e){v("category",e);var t={name:j("name"),category:j("category")};n(t)}(e)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return String(e.id)},styles:l.X}))}})}),(0,d.jsx)("button",{onClick:function(){v("name",""),v("category",null)},className:"btn btn-dark btn-product-filter",children:"LIMPAR FILTRO"})]})]})})}},8037:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var r=t(2791),a=t(7689),i=t(327),o=t(3356),s=t(184),c=function(e){var n=e.element,t=e.authority,r=(0,a.TH)();function c(){return!t||(0,i.LJ)(t)}return(0,i.$8)()?c()?(0,s.jsx)(s.Fragment,{children:n}):c()||"ROLE_ADMIN"!==t?(0,s.jsx)(a.Fg,{to:"/auth/login",state:{from:r}}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(o.default,{errorCode:403})}):(0,s.jsx)(a.Fg,{to:"/auth/login",state:{from:r}})},l=t(4321),d=t(9439),u=t(1087),m=t(2512),f=t(2433),h=t(7672),p=t(5069),x=function(){var e,n=(0,r.useState)(),t=(0,d.Z)(n,2),a=t[0],i=t[1],o=(0,r.useState)({activePage:0,filterData:{name:"",category:null}}),c=(0,d.Z)(o,2),l=c[0],x=c[1],v=(0,r.useCallback)((function(){var e,n={method:"GET",url:"/api/books/v2",params:{page:l.activePage,size:3,name:l.filterData.name,categoryId:null===(e=l.filterData.category)||void 0===e?void 0:e.id}};(0,p.QK)(n).then((function(e){i(e.data)}))}),[l]);return(0,r.useEffect)((function(){v()}),[v]),(0,s.jsxs)("div",{className:"product-crud-container",children:[(0,s.jsxs)("div",{className:"product-crud-bar-container",children:[(0,s.jsx)(u.rU,{to:"/admin/books/create",children:(0,s.jsx)("button",{className:"btn btn-primary text-white btn-crud-add",children:"ADICIONAR"})}),(0,s.jsx)(h.Z,{onSubmitFilter:function(e){x({activePage:0,filterData:e})}})]}),(0,s.jsx)("div",{className:"row",children:null!==a&&void 0!==a&&a.empty?(0,s.jsx)("h2",{children:"Nenhum livro registrado"}):null===a||void 0===a||null===(e=a.content)||void 0===e?void 0:e.map((function(e){return(0,s.jsx)("div",{className:"col-sm-6 col-md-12",children:(0,s.jsx)(f.Z,{book:e,showEdit:!0})},e.id)}))}),(0,s.jsx)(m.Z,{forcePage:null===a||void 0===a?void 0:a.number,pageCount:a?a.totalPages:0,range:3,onChange:function(e){x({activePage:e,filterData:l.filterData})}})]})},v=(0,r.lazy)((function(){return t.e(821).then(t.bind(t,1821))})),j=function(){return(0,s.jsxs)(a.Z5,{children:[(0,s.jsx)(a.AW,{path:"/",element:(0,s.jsx)(x,{})}),(0,s.jsx)(a.AW,{path:"/:bookId",element:(0,s.jsx)(r.Suspense,{fallback:(0,s.jsx)(l.Z,{}),children:(0,s.jsx)(v,{})})})]})},g=function(){return(0,s.jsx)("nav",{className:"admin-nav-container",children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:(0,s.jsx)(u.OL,{to:"/admin/books",className:function(e){return e.isActive?"admin-nav-item active bg-primary border border-dark":"admin-nav-item"},children:"Livros"})}),(0,s.jsx)("li",{children:(0,s.jsx)(u.OL,{to:"/admin/reserves",className:function(e){return e.isActive?"admin-nav-item active bg-primary border border-dark":"admin-nav-item"},children:"Reservas"})}),(0,s.jsx)("li",{children:(0,s.jsx)(u.OL,{to:"/admin/users",className:function(e){return e.isActive?"admin-nav-item active bg-primary border border-dark":"admin-nav-item"},children:"Usu\xe1rios"})})]})})},b=(0,r.lazy)((function(){return Promise.all([t.e(586),t.e(368),t.e(736)]).then(t.bind(t,6736))})),N=(0,r.lazy)((function(){return t.e(521).then(t.bind(t,521))})),y=function(){return(0,s.jsxs)("div",{className:"admin-container",children:[(0,s.jsx)(g,{}),(0,s.jsx)("div",{className:"admin-content",children:(0,s.jsxs)(a.Z5,{children:[(0,s.jsx)(a.AW,{path:"/books/*",element:(0,s.jsx)(c,{element:(0,s.jsx)(j,{}),authority:"ROLE_OPERATOR"})}),(0,s.jsx)(a.AW,{path:"/reserves/*",element:(0,s.jsx)(r.Suspense,{fallback:(0,s.jsx)(l.Z,{}),children:(0,s.jsx)(c,{element:(0,s.jsx)(b,{}),authority:"ROLE_OPERATOR"})})}),(0,s.jsx)(a.AW,{path:"/users/*",element:(0,s.jsx)(r.Suspense,{fallback:(0,s.jsx)(l.Z,{}),children:(0,s.jsx)(c,{element:(0,s.jsx)(N,{}),authority:"ROLE_ADMIN"})})})]})})]})}},5069:function(e,n,t){t.d(n,{QK:function(){return s},_6:function(){return l},jT:function(){return c}});var r=t(1413),a=t(1243),i=t(7539),o="https://192.168.15.13:8443",s=function(e){var n,t=(0,r.Z)({},e.headers);e.withCredentials&&(t.Authorization="Bearer ".concat(null===(n=(0,i.nr)())||void 0===n?void 0:n.token));return(0,a.Z)((0,r.Z)((0,r.Z)({},e),{},{baseURL:o,headers:t,data:e.data}))},c=function(e){var n=JSON.stringify({email:e.username,password:e.password});return(0,a.Z)({method:"POST",baseURL:o,url:"/api/auth/v2/authenticate",data:n,headers:{"Content-Type":"application/json",Authorization:"No auth"}})},l=function(e){var n=JSON.stringify({email:e.username,password:e.password,firstname:e.firstname,lastname:e.lastname});return(0,a.Z)({method:"POST",baseURL:o,url:"/api/auth/v2/register",data:n,headers:{"Content-Type":"application/json",Authorization:"No auth"}})}},2406:function(e,n,t){t.d(n,{X:function(){return a}});var r=t(1413),a={control:function(e,n){return(0,r.Z)((0,r.Z)({},e),{},{height:"40px",border:"1px solid #407bff",":hover":{border:"1px solid #407bff"}})},valueContainer:function(e){return(0,r.Z)((0,r.Z)({},e),{},{height:"40px",padding:"0px 8px"})},input:function(e){return(0,r.Z)((0,r.Z)({},e),{},{margin:"0px"})},singleValue:function(e){return(0,r.Z)((0,r.Z)({},e),{},{marginBottom:"8px",textOverflow:"initial",overflow:"visible"})},indicatorsContainer:function(e){return(0,r.Z)((0,r.Z)({},e),{},{height:"40px"})},indicatorSeparator:function(e){return(0,r.Z)({},e)}}}}]);
//# sourceMappingURL=37.196edad2.chunk.js.map