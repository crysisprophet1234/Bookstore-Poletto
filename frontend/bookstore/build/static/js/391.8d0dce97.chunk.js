/*! For license information please see 391.8d0dce97.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbookstore=self.webpackChunkbookstore||[]).push([[391],{2415:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(184),a=function(e){var t=e.status;return(0,n.jsx)("div",{className:"book-status-container primary",children:(0,n.jsx)("button",{type:"button",className:null===t||void 0===t?void 0:t.toLowerCase(),disabled:"BOOKED"===t,children:"DISABLED"})})}},2512:function(e,t,r){r.d(t,{Z:function(){return c}});var n=r(6048),a=r.n(n),i=r(1559),o=r(184),c=function(e){var t=e.forcePage,r=e.pageCount,n=e.range,c=e.onChange;return(0,o.jsx)(a(),{forcePage:t,pageCount:r,pageRangeDisplayed:n,marginPagesDisplayed:1,containerClassName:"pagination-container",pageLinkClassName:"pagination-item",breakClassName:"pagination-item",previousLabel:(0,o.jsx)("div",{className:"pagination-arrow-container",children:(0,o.jsx)(i.r,{})}),previousClassName:"arrow-previous",nextClassName:"arrow-next",nextLabel:(0,o.jsx)("div",{className:"pagination-arrow-container",children:(0,o.jsx)(i.r,{})}),activeLinkClassName:"pagination-link-active",disabledClassName:"arrow-inactive",onPageChange:function(e){return c?c(e.selected):{}}})}},7672:function(e,t,r){r.d(t,{Z:function(){return d}});var n=r(1413),a=r(9439),i=r(2791),o=r(1134),c=r(8622),s=r(5069),l=r(2406),u=r(184),d=function(e){var t=e.onSubmitFilter,r=(0,i.useState)([]),d=(0,a.Z)(r,2),f=d[0],h=d[1],m=(0,o.cI)(),g=m.register,p=m.handleSubmit,x=m.setValue,v=m.getValues,y=m.control,b=function(e){t(e)};return(0,i.useEffect)((function(){(0,s.QK)({url:"/api/categories/v2"}).then((function(e){h(e.data)}))}),[]),(0,u.jsx)("div",{className:"base-card product-filter-container",children:(0,u.jsxs)("form",{onSubmit:p(b),onChange:p(b),className:"product-filter-form",children:[(0,u.jsx)("div",{className:"product-filter-name-container",children:(0,u.jsx)("input",(0,n.Z)((0,n.Z)({},g("name")),{},{type:"text",className:"form-control base-input",placeholder:"Nome do livro ou autor",name:"name","aria-label":"book-input-search",autoComplete:"off"}))}),(0,u.jsxs)("div",{className:"product-filter-bottom-container",children:[(0,u.jsx)("div",{className:"product-filter-category-container",children:(0,u.jsx)(o.Qr,{name:"category",control:y,render:function(e){var r=e.field;return(0,u.jsx)(c.ZP,(0,n.Z)((0,n.Z)({},r),{},{options:f,isClearable:!0,placeholder:"Categoria",className:"product-filter-select",classNamePrefix:"product-filter-select",onChange:function(e){return function(e){x("category",e);var r={name:v("name"),category:v("category")};t(r)}(e)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return String(e.id)},styles:l.X}))}})}),(0,u.jsx)("button",{onClick:function(){x("name",""),x("category",null)},className:"btn btn-dark btn-product-filter",children:"LIMPAR FILTRO"})]})]})})}},2391:function(e,t,r){r.r(t),r.d(t,{default:function(){return v}});var n=r(9439),a=r(1087),i=r(2512),o=r(8175),c=r(184);function s(){var e=window.innerWidth;return e>=1400?"306":e>=1200?"261":e>=992?"295":e>=768?"336":e>=576?"246":e<576?e-24:0}function l(){var e=window.innerWidth;return e>=1200?4*(+s()+30):e>=992?3*(+s()+30):e>=576?2*(+s()+30):e<576?s():void 0}var u=function(){return(0,c.jsx)("div",{className:"card-loader",children:(0,c.jsxs)(o.ZP,{width:l(),height:950,viewBox:"0 0 ".concat(l()," 950"),backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",speed:.5,style:{marginTop:"0px"},children:[(0,c.jsx)("rect",{x:"0",y:"0",rx:"2",ry:"2",width:s(),height:"296"}),(0,c.jsx)("rect",{x:1*(+s()+30),y:"0",rx:"2",ry:"2",width:s(),height:"296"}),(0,c.jsx)("rect",{x:2*(+s()+30),y:"0",rx:"2",ry:"2",width:s(),height:"296"}),(0,c.jsx)("rect",{x:3*(+s()+30),y:"0",rx:"2",ry:"2",width:s(),height:"296"}),(0,c.jsx)("rect",{x:"0",y:"336",rx:"2",ry:"2",width:s(),height:"296"}),(0,c.jsx)("rect",{x:1*(+s()+30),y:"336",rx:"2",ry:"2",width:s(),height:"296"}),(0,c.jsx)("rect",{x:2*(+s()+30),y:"336",rx:"2",ry:"2",width:s(),height:"296"}),(0,c.jsx)("rect",{x:3*(+s()+30),y:"336",rx:"2",ry:"2",width:s(),height:"296"}),(0,c.jsx)("rect",{x:"0",y:"672",rx:"2",ry:"2",width:s(),height:"296"}),(0,c.jsx)("rect",{x:1*(+s()+30),y:"672",rx:"2",ry:"2",width:s(),height:"296"}),(0,c.jsx)("rect",{x:2*(+s()+30),y:"672",rx:"2",ry:"2",width:s(),height:"296"}),(0,c.jsx)("rect",{x:3*(+s()+30),y:"672",rx:"2",ry:"2",width:s(),height:"296"})]})})},d=r(2791),f=r(8329),h=r(2415),m=function(e){var t=e.book,r=(0,d.useState)(!0),a=(0,n.Z)(r,2),i=a[0],o=a[1],s=(0,d.useState)(""),l=(0,n.Z)(s,2),u=l[0],m=l[1];return(0,d.useEffect)((function(){var e=new Image;e.src=t.imgUrl;return e.onload=function(){m(e.src),o(!1)},e.onerror=function(r){e.src=t.imgUrl,m(e.src),o(!1)},function(){e.onload=null,e.onerror=null}}),[t.imgUrl]),(0,c.jsxs)("div",{className:"base-card book-card",children:[(0,c.jsx)("div",{className:"card-top-container",children:i?(0,c.jsx)("div",{className:"spinner-container",children:(0,c.jsx)(f.Z,{loading:i,color:"#0044E0",speedMultiplier:.65})}):(0,c.jsx)("img",{src:u,alt:t.name,loading:"lazy"})}),(0,c.jsxs)("div",{className:"card-bottom-container",children:[(0,c.jsx)("h2",{"data-bs-toggle":"tooltip","data-bs-placement":"top",title:t.name,children:t.name}),(0,c.jsx)(h.Z,{status:t.status})]})]})},g=r(5069),p=r(7672),x=r(2887),v=function(){var e=(0,d.useState)(),t=(0,n.Z)(e,2),r=t[0],o=t[1],s=(0,d.useState)({activePage:0,filterData:{name:"",category:null}}),l=(0,n.Z)(s,2),f=l[0],h=l[1],v=(0,x.D)((function(e){h({activePage:0,filterData:e})}),500),y=(0,d.useCallback)((function(){var e,t={method:"GET",url:"/api/books/v2",params:{page:f.activePage,size:window.innerWidth>768?12:6,name:f.filterData.name,categoryId:null===(e=f.filterData.category)||void 0===e?void 0:e.id}};(0,g.QK)(t).then((function(e){o(e.data)})).catch((function(e){console.log(e.response.data)}))}),[f]);return(0,d.useEffect)((function(){y()}),[y]),(0,c.jsxs)("div",{className:"container my-4 catalog-container",children:[(0,c.jsx)("div",{className:"row catalog-title-container",children:(0,c.jsx)("h1",{children:"Cat\xe1logo de Produtos"})}),(0,c.jsx)("div",{className:"product-crud-bar-container",children:(0,c.jsx)(p.Z,{onSubmitFilter:v})}),(0,c.jsx)("div",{className:"row",children:r?r.content.map((function(e){return(0,c.jsx)("div",{className:"col-sm-6 col-lg-4 col-xl-3",children:(0,c.jsx)(a.rU,{to:"/books/".concat(e.id),children:(0,c.jsx)(m,{book:e})})},e.id)})):(0,c.jsx)(u,{})}),(0,c.jsx)("div",{className:"row",children:(0,c.jsx)(i.Z,{forcePage:null===r||void 0===r?void 0:r.number,pageCount:r?r.totalPages:0,range:window.innerWidth>768?3:1,onChange:function(e){h({activePage:e,filterData:f.filterData})}})})]})}},2887:function(e,t,r){r.d(t,{D:function(){return n}});var n=function(e,t){var r;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];clearTimeout(r),r=setTimeout((function(){e.apply(void 0,a)}),t)}}},5069:function(e,t,r){r.d(t,{QK:function(){return c},_6:function(){return l},jT:function(){return s}});var n=r(1413),a=r(1243),i=r(7539),o="https://192.168.15.13:8443",c=function(e){var t,r=(0,n.Z)({},e.headers);e.withCredentials&&(r.Authorization="Bearer ".concat(null===(t=(0,i.nr)())||void 0===t?void 0:t.token));return(0,a.Z)((0,n.Z)((0,n.Z)({},e),{},{baseURL:o,headers:r,data:e.data}))},s=function(e){var t=JSON.stringify({email:e.username,password:e.password});return(0,a.Z)({method:"POST",baseURL:o,url:"/api/auth/v2/authenticate",data:t,headers:{"Content-Type":"application/json",Authorization:"No auth"}})},l=function(e){var t=JSON.stringify({email:e.username,password:e.password,firstname:e.firstname,lastname:e.lastname});return(0,a.Z)({method:"POST",baseURL:o,url:"/api/auth/v2/register",data:t,headers:{"Content-Type":"application/json",Authorization:"No auth"}})}},2406:function(e,t,r){r.d(t,{X:function(){return a}});var n=r(1413),a={control:function(e,t){return(0,n.Z)((0,n.Z)({},e),{},{height:"40px",border:"1px solid #407bff",":hover":{border:"1px solid #407bff"}})},valueContainer:function(e){return(0,n.Z)((0,n.Z)({},e),{},{height:"40px",padding:"0px 8px"})},input:function(e){return(0,n.Z)((0,n.Z)({},e),{},{margin:"0px"})},singleValue:function(e){return(0,n.Z)((0,n.Z)({},e),{},{marginBottom:"8px",textOverflow:"initial",overflow:"visible"})},indicatorsContainer:function(e){return(0,n.Z)((0,n.Z)({},e),{},{height:"40px"})},indicatorSeparator:function(e){return(0,n.Z)({},e)}}},8175:function(e,t,r){var n=r(2791),a=function(){return a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},a.apply(this,arguments)};var i=function(e){var t=e.animate,r=void 0===t||t,i=e.animateBegin,o=e.backgroundColor,c=void 0===o?"#f5f6f7":o,s=e.backgroundOpacity,l=void 0===s?1:s,u=e.baseUrl,d=void 0===u?"":u,f=e.children,h=e.foregroundColor,m=void 0===h?"#eee":h,g=e.foregroundOpacity,p=void 0===g?1:g,x=e.gradientRatio,v=void 0===x?2:x,y=e.gradientDirection,b=void 0===y?"left-right":y,j=e.uniqueKey,w=e.interval,C=void 0===w?.25:w,N=e.rtl,Z=void 0!==N&&N,k=e.speed,E=void 0===k?1.2:k,O=e.style,P=void 0===O?{}:O,S=e.title,D=void 0===S?"Loading...":S,T=e.beforeMask,L=void 0===T?null:T,U=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["animate","animateBegin","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","gradientDirection","uniqueKey","interval","rtl","speed","style","title","beforeMask"]),B=j||Math.random().toString(36).substring(6),R=B+"-diff",I=B+"-animated-diff",A=B+"-aria",K=Z?{transform:"scaleX(-1)"}:null,z="0; "+C+"; 1",M=E+"s",V="top-bottom"===b?"rotate(90)":void 0;return(0,n.createElement)("svg",a({"aria-labelledby":A,role:"img",style:a(a({},P),K)},U),D?(0,n.createElement)("title",{id:A},D):null,L&&(0,n.isValidElement)(L)?L:null,(0,n.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+d+"#"+R+")",style:{fill:"url("+d+"#"+I+")"}}),(0,n.createElement)("defs",null,(0,n.createElement)("clipPath",{id:R},f),(0,n.createElement)("linearGradient",{id:I,gradientTransform:V},(0,n.createElement)("stop",{offset:"0%",stopColor:c,stopOpacity:l},r&&(0,n.createElement)("animate",{attributeName:"offset",values:-v+"; "+-v+"; 1",keyTimes:z,dur:M,repeatCount:"indefinite",begin:i})),(0,n.createElement)("stop",{offset:"50%",stopColor:m,stopOpacity:p},r&&(0,n.createElement)("animate",{attributeName:"offset",values:-v/2+"; "+-v/2+"; "+(1+v/2),keyTimes:z,dur:M,repeatCount:"indefinite",begin:i})),(0,n.createElement)("stop",{offset:"100%",stopColor:c,stopOpacity:l},r&&(0,n.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+v),keyTimes:z,dur:M,repeatCount:"indefinite",begin:i})))))},o=function(e){return e.children?(0,n.createElement)(i,a({},e)):(0,n.createElement)(c,a({},e))},c=function(e){return(0,n.createElement)(o,a({viewBox:"0 0 476 124"},e),(0,n.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),(0,n.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),(0,n.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),(0,n.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),(0,n.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),(0,n.createElement)("circle",{cx:"20",cy:"20",r:"20"}))};t.ZP=o}}]);
//# sourceMappingURL=391.8d0dce97.chunk.js.map